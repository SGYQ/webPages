<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>员工列表</title>
	<link href="bootstrap-3.3.4-dist/css/bootstrap.min.css" rel="stylesheet">
    <style type="text/css">
        th {text-align: center;}
        td {text-align: center;}
    </style>
</head>
<body>

	<!-- 搭建显示页面 -->
	<div class="container">
		<!-- 标题 -->
		<div class="row">
			<div class="col-md-12">
				<h3>列表</h3>
			</div>
		</div>
		<!-- 按钮 -->
		<div class="row">
			<div class="col-md-4 col-md-offset-8">
				<button class="btn btn-primary" id="emp_add_modal_btn" data-toggle="modal" data-target="#updateData">新增</button>
				<button class="btn btn-danger" id="emp_delete_all_btn">删除</button>
			</div>
		</div>
		<!-- 显示表格数据 -->
		<div class="row">
			<div class="col-md-12">
				<table class="table table-hover" id="emps_table">
					<thead>
						<tr>
							<th>
								<input type="checkbox" id="check_all" />
							</th>
							<th>编号</th>
							<th>姓名</th>
							<th>性别</th>
							<th>邮箱</th>
							<th>deptNam</th>
							<th>操作</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td><input type="checkbox" name="check_detail"/></td>
							<td>12</td>
							<td>李敢</td>
							<td>男</td>
							<td>32998@126.com</td>
							<td>国际贸易部</td>
							<td>
								<button class="btn btn-primary btn-sm" onclick="updatePerson(this)">
									<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
									编辑
								</button>
								<button class="btn btn-danger btn-sm">
									<span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
									删除
								</button>
							</td>
						</tr>
						<tr>
							<td><input type="checkbox" name="check_detail"/></td>
							<td>13</td>
							<td>上官楠</td>
							<td>女</td>
							<td>shangguannan@jk.com</td>
							<td>法务部</td>
							<td>
								<button class="btn btn-primary btn-sm" onclick="updatePerson(this)">
									<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
									编辑
								</button>
								<button class="btn btn-danger btn-sm">
									<span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
									删除
								</button>
							</td>
						</tr>
						<tr>
							<td><input type="checkbox" name="check_detail"/></td>
							<td>13</td>
							<td>张楠楠</td>
							<td>男</td>
							<td>shangguannan@jk.com</td>
							<td>国际贸易部</td>
							<td>
								<button class="btn btn-primary btn-sm" onclick="updatePerson(this)">
									<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
									编辑
								</button>
								<button class="btn btn-danger btn-sm">
									<span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
									删除
								</button>
							</td>
						</tr>
						<tr>
							<td><input type="checkbox" name="check_detail"/></td>
							<td>15</td>
							<td>宋弘羊</td>
							<td>女</td>
							<td>shangn@jk.com</td>
							<td>制作部</td>
							<td>
								<button class="btn btn-primary btn-sm" onclick="updatePerson(this)">
									<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
									编辑
								</button>
								<button class="btn btn-danger btn-sm">
									<span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
									删除
								</button>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>

		<!-- 显示分页信息 -->
		<div class="row">
			<!--分页文字信息  -->
			<div class="col-md-6" id="page_info_area"></div>
			<!-- 分页条信息 -->
			<div class="col-md-6" id="page_nav_area">
				
			</div>
		</div>
		
    </div>
	<!-- end 显示页面 -->
	
	<!-- 模态框 start -->
	<div class="modal fade" id="updateData" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="myModalLabel">修改人员信息</h4>
                </div>
                <div class="modal-body">
					<form class="form-horizontal">
							<div class="form-group">
							  <label class="col-sm-2 control-label">姓名</label>
							  <div class="col-sm-10">
									<p class="form-control-static" id="empName"></p>
									<!-- <input type="text" name="empName" class="form-control" id="empName" > -->
									<span id="empName"></span>
							  </div>
							</div>
							<div class="form-group">
							  <label class="col-sm-2 control-label">邮箱</label>
							  <div class="col-sm-10">
								<input type="text" name="email" class="form-control" id="email" placeholder="email@163.com">
								<span class="help-block"></span>
							  </div>
							</div>
							<div class="form-group">
							  <label class="col-sm-2 control-label">性别</label>
							  <div class="col-sm-10">
								  <label class="radio-inline">
									<input type="radio" name="gender" id="man" value="0" checked="checked"> 男
								  </label>
								  <label class="radio-inline">
									<input type="radio" name="gender" id="woman" value="1"> 女
								  </label>
							  </div>
							</div>
							<div class="form-group">
							  <label class="col-sm-2 control-label">部门</label>
							  <div class="col-sm-4">
								  <!-- 部门提交部门id即可 -->
								<select class="form-control" name="dId">
								</select>
							  </div>
							</div>
					</form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                    <button type="button" class="btn btn-primary">提交更改保存</button>
                </div>
            </div>
        </div>
    </div>
	<!-- end 模态框 -->

    <script type="text/javascript" src="jquery-3.2.1/jquery-3.2.1.min.js"></script>
    <script src="bootstrap-3.3.4-dist/js/bootstrap.min.js"></script>
    
	<script type="text/javascript">
		function updatePerson(obj)
		{
			$('#updateData').modal('show');
			//注意是parents,并非parent
			var temp = $(obj).parents("tr").children("td");
			var t = temp.eq(2).text();
			var email = temp.eq(4).text();
			var sex = temp.eq(3).text();

			// $("#empName").val(t);
			$("#empName").html(t);
			$("#email").val(email);

			if( sex=='女' ) {
				var check_radio = document.getElementById("woman");
				check_radio.checked = true;
			} else {
				var check_radio = document.getElementById("man");
				check_radio.checked = true;
			}
			
		}

		function selectAll()
		{
			var check_edit = document.getElementById("check_all");
			var checkboxs = document.getElementsByName("check_detail");

			if( check_edit.checked==false ){
				for(var i=0, length=checkboxs.length; i<length; i++)
					checkboxs[i].checked = true;
			} else {
				for(var j=0, length=checkboxs.length; j<length; j++)
					checkboxs[j].checked = false;
			}
		}

		//完成全选/全不选功能
		$("#check_all").click( function(){
			//attr获取checked是undefined;
			//我们这些dom原生的属性；attr获取自定义属性的值；
			//prop修改和读取dom原生属性的值
			$("input[name='check_detail']").prop("checked",$(this).prop("checked"));
		} );
	</script>
</body>
</html>